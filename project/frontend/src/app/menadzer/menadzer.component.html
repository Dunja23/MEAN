<body class="bg-opacity-50 bg-info">
    <div class="container-fluid">
        <head class="row bg-info text-center">
            <h2>Menadzer</h2>
        </head>
        <div class="row text-decoration-underline">
            <div class="col-md-12 text-end">
                <button class="btn btn-outline-dark" (click)="logout()">Izloguj se</button>
            </div>
        </div>
        <hr /><br />
        <h3 class="text-decoration-underline">Lekari</h3><br />
        <div class="col-md-12">
            <table class="table table-info table-bordered text-center">
                <thead>
                    <tr>
                        <th>Profilna</th>
                        <th>Ime</th>
                        <th>Prezime</th>
                        <th>Mejl</th>
                        <th>Specijalizacija</th>
                        <th>Adresa</th>
                        <th>Kontakt</th>
                        <th>Ogranak</th>
                        <th>Licenca</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let l of lekari">
                        <td>
                            <img *ngIf="l.slika !='' " src="http://localhost:4000/uploads/{{l.slika}}" width="100"
                                height="100">
                            <img *ngIf="!l.slika" src="http://localhost:4000/uploads/profile_icon.jpg" width="100"
                                height="100">
                        </td>
                        <td>{{l.ime}}</td>
                        <td>{{l.prezime}}</td>
                        <td>{{l.mejl}}</td>
                        <td><input type="text" [(ngModel)]="l.specijalizacija" *ngIf="l.azuriraj" /><label
                                *ngIf="!l.azuriraj">{{l.specijalizacija}}</label></td>
                        <td><input type="text" [(ngModel)]="l.adresa" *ngIf="l.azuriraj" /><label
                                *ngIf="!l.azuriraj">{{l.adresa}}</label></td>
                        <td><input type="text" [(ngModel)]="l.kontakt" *ngIf="l.azuriraj" /><label
                                *ngIf="!l.azuriraj">{{l.kontakt}}</label></td>
                        <td><input type="text" [(ngModel)]="l.ogranak" *ngIf="l.azuriraj" /><label
                            *ngIf="!l.azuriraj">{{l.ogranak}}</label></td>
                        <td><input type="text" [(ngModel)]="l.licenca" *ngIf="l.azuriraj" /><label
                            *ngIf="!l.azuriraj">{{l.licenca}}</label></td>
                        <td><button class="btn btn-light" (click)="obrisi(l.kor_ime,'lekar')">Obriši</button></td>
                        <td><button class="btn btn-light" *ngIf="!l.azuriraj"
                                (click)="l.azuriraj = true">Ažuriraj</button>
                            <button class="btn btn-light" *ngIf="l.azuriraj"
                                (click)="azurirajUser(l.kor_ime,'lekar')">Sačuvaj</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div><br />
        <h3 class="text-decoration-underline">Pacijenti</h3><br />
        <div class="col-md-10">
            <table class="table table-info table-bordered text-center">
                <thead>
                    <tr>
                        <th>Profilna</th>
                        <th>Ime</th>
                        <th>Prezime</th>
                        <th>Mejl</th>
                        <th>Adresa</th>
                        <th>Kontakt</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let p of pacijenti">
                        <td>
                            <img *ngIf="p.slika !='' " src="http://localhost:4000/uploads/{{p.slika}}" width="100"
                                height="100">
                            <img *ngIf="!p.slika" src="http://localhost:4000/uploads/profile_icon.jpg" width="100"
                                height="100">
                        </td>
                        <td>{{p.ime}}</td>
                        <td>{{p.prezime}}</td>
                        <td>{{p.mejl}}</td>
                        <td><input type="text" [(ngModel)]="p.adresa" *ngIf="p.azuriraj" /><label
                                *ngIf="!p.azuriraj">{{p.adresa}}</label></td>
                        <td><input type="text" [(ngModel)]="p.kontakt" *ngIf="p.azuriraj" /><label
                                *ngIf="!p.azuriraj">{{p.kontakt}}</label></td>
                        <td><button class="btn btn-light" (click)="obrisi(p.kor_ime,'pacijent')">Obriši</button></td>
                        <td><button class="btn btn-light" *ngIf="!p.azuriraj"
                                (click)="p.azuriraj = true">Ažuriraj</button>
                            <button class="btn btn-light" *ngIf="p.azuriraj"
                                (click)="azurirajUser(p.kor_ime,'pacijent')">Sačuvaj</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div><br /><br />
        <h3 class="text-decoration-underline">Dodaj novog lekara</h3><br />
        <label class="text-secondary">Ovde postavite profilnu sliku.</label><br />
        <label class="text-secondary" *ngIf="!selected">U slučaju da ne postavite profilnu biće dodata podrazumevana
            slika.</label><br />

        <input type="file" name="selectedImage" (input)="selectImage($event)">
        <br />
        <img *ngIf="selected" [src]="selected"><br />


        <label for="firstname" class="form-label">Ime</label><br />
        <input type="text" id="firstname" [(ngModel)]="firstname" class="form-control-lg"><br />
        <label for="lastname" class="form-label">Prezime</label><br />
        <input type="text" id="lastname" [(ngModel)]="lastname" class="form-control-lg"><br />
        <label for="username" class="form-label">Korisničko ime</label><br />
        <input type="text" id="username" [(ngModel)]="username" class="form-control-lg"><br />
        <label for="email" class="form-label">E-mail</label><br />
        <input type="email" id="email" [(ngModel)]="email" class="form-control-lg"><br />
        <label for="adress" class="form-label">Adresa</label><br />
        <input type="text" id="adress" [(ngModel)]="adress" class="form-control-lg"><br />
        <label for="kontakt" class="form-label">Kontakt</label><br />
        <input type="text" id="kontakt" [(ngModel)]="kontakt" class="form-control-lg"><br />
        <label for="specijalizacija" class="form-label">Specijalizacija</label><br />
        <input type="text" id="specijalizacija" [(ngModel)]="specijalizacija" class="form-control-lg"><br />
        <label for="ogranak" class="form-label">Ogranak</label><br />
        <input type="text" id="ogranak" [(ngModel)]="ogranak" class="form-control-lg"><br />
        <label for="licenca" class="form-label">Licenca</label><br />
        <input type="text" id="licenca" [(ngModel)]="licenca" class="form-control-lg"><br />
        <label for="password" class="form-label">Lozinka</label><br />
        <input type="password" id="password" [(ngModel)]="password" class="form-control-lg"><br />
        <label for="passwordagain" class="form-label">Ponovite lozinku</label><br />
        <input type="password" id="passwordagain" [(ngModel)]="passwordagain" class="form-control-lg"><br /><br />
        <button class="btn btn-light" (click)="register()">Dodaj doktora</button><br /><br />
        <pre class="text-danger">{{error}}</pre> <br />

        <h3 class="text-decoration-underline">Registracije</h3><br />
        <div class="col-md-7">
            <table class="table table-info table-bordered text-center">
                <thead>
                    <tr>
                        <th>Profilna</th>
                        <th>Ime</th>
                        <th>Prezime</th>
                        <th>Mejl</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let r of registracije">
                        <td>
                            <img *ngIf="r.slika !='' " src="http://localhost:4000/uploads/{{r.slika}}" width="100"
                                height="100">
                            <img *ngIf="!r.slika" src="http://localhost:4000/uploads/profile_icon.jpg" width="100"
                                height="100">
                        </td>
                        <td>{{r.ime}}</td>
                        <td>{{r.prezime}}</td>
                        <td>{{r.mejl}}</td>
                        <td><button class="btn btn-light" (click)="odbij(r.kor_ime)">Odbij</button></td>
                        <td><button class="btn btn-light" (click)="prihvati(r.kor_ime)">Prihvati</button></td>
                    </tr>
                </tbody>
            </table>
        </div><br /><br />
        <h3 class="text-decoration-underline">Dodaj novu specijalizaciju</h3><br />
        <label for="spec" class="form-label">Specijalizacija</label><br />
        <input type="text" id="spec" [(ngModel)]="spec" class="form-control-lg"><br /><br />
        <button class="btn btn-light" (click)="dodajSpecijalizaciju()">Dodaj</button><br /><br />
        <pre class="text-success">{{success}}</pre> <br /> <br />
        <h3 class="text-decoration-underline">Pregledi</h3><br />
        <div class="col-md-7">
            <table class="table table-info table-bordered text-center">
                <thead>
                    <tr>
                        <th>Naziv</th>
                        <th>Lekar</th>
                        <th>Trajanje</th>
                        <th>Cena</th>
                        <th>Odobren</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let p of pregledi">
                        <td>{{p.naziv}}</td>
                        <td>{{p.lekar}}</td>
                        <td>{{p.trajanje}}min</td>
                        <td>{{p.cena}}din</td>
                        <td>{{p.odobren}}</td>
                        <td><button class="btn btn-light" (click)="p.odobren = false">Odbij</button></td>
                        <td><button class="btn btn-light" (click)="p.odobren = true">Odobri</button></td>
                    </tr>
                </tbody>
            </table>
        </div><br /><br />
        <h3 class="text-decoration-underline">Pregledi u okviru specijalizacija</h3><br />
        <div class="col-md-7">
            <table class="table table-info table-bordered text-center">
                <thead>
                    <tr>
                        <th>Naziv</th>
                        <th>Specijalizacija</th>
                        <th>Trajanje</th>
                        <th>Cena</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let p of spregledi">
                        <td>{{p.naziv}}</td>
                        <td>{{p.specijalizacija}}</td>
                        <td><input type="number" [(ngModel)]="p.trajanje" *ngIf="p.azuriraj" /><label
                                *ngIf="!p.azuriraj">{{p.trajanje}}min</label></td>
                        <td><input type="number" [(ngModel)]="p.cena" *ngIf="p.azuriraj" /><label
                                *ngIf="!p.azuriraj">{{p.cena}}din</label></td>
                        <td><button class="btn btn-light" (click)="obrisiSP(p.naziv)">Briši</button></td>
                        <td><button class="btn btn-light" *ngIf="!p.azuriraj"
                                (click)="p.azuriraj=true">Ažuriraj</button>
                            <button class="btn btn-light" *ngIf="p.azuriraj"
                                (click)="azuriraj(p.naziv)">Sačuvaj</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div><br /><br />
        <h3 class="text-decoration-underline">Dodaj pregled</h3>
        <div class="form-group">
            <label for="list">Izaberite specijalizaciju: </label>
            <select class="form-constrol" id="list" [(ngModel)]="sp">
                <option *ngFor="let s of specijalizacije" [value]="s.specijalizacija">{{s.specijalizacija}}</option>
            </select><br />
            <label for="n">Naziv: </label>
            <input type="text" id="n" [(ngModel)]="n"><br />
            <label for="t">Trajanje: </label>
            <input type="number" id="t" [(ngModel)]="t"><br />
            <label for="c">Cena: </label>
            <input type="number" id="c" [(ngModel)]="c"><br /><br />
            <button class="btn btn-light" (click)="dodajSP()">dodaj</button>
        </div><br />
    </div>
    <footer class="bg-info">
        <h5 class="text-center">2023@ Lekarska ordinacija</h5>
    </footer><br />
</body>